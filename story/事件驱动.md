# 事件驱动

## 概念

想象一下在一家快餐店点餐。你在柜台排队时，服务员 有两种方法来处理你的点单，一种是事件驱动的，另一种则不是。


我们先采用 PHP 等许多 Web 平台所使用的方法。你点餐时，服务员先招待你，待你点完后才服务 下一个客人。他输入完你的单子后，可以做以下几件事情:收款、为你倒饮料等。 但是，服务员还不知道要等多久厨房才能够把你要的汉堡做好(如果你们中有一人 是素食主义者，可能还要等更长时间)。


在传统的 Web 服务框架下，每个服务程序(线程)每次只能服务一个请求。唯一增加处理能力的方法就是加入更多的线程。很 显然这样的做法并不是那么地高效，服务员在等待厨房做菜时浪费了很多时间。


显然，现实生活中的餐馆使用的是更加高效的模式。你点完菜后，服务员会给你一 个号码，在菜做好时通知你，你可以称这个为回调号码。Node 也是这样工作的。当 I/O 一类的费时操作开始时，Node 会给它们一个回调引用，然后继续处理其他已 经就绪的工作。比如说服务员可以服务下一个客人(对 Node 来说，则是下一个事 件)。需要重点关注的是，与邮递员的例子一样，餐厅服务员也绝不会在同一时间服 务两个客人。当呼叫某位客人来取食物的时候，他们不会处理新客人的需求，反之 也是一样。通过事件驱动的运作方式，服务员能够最大程度地提高产出。

## 参考

- 《Node即学即用》
